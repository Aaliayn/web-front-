<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Your Movie Website</title>
</head>

<body>
    <!-- <div id="loginForm">
        <label for="username">Username:</label>
        <input type="text" id="username" placeholder="Enter username">
        <label for="password">Password:</label>
        <input type="password" id="password" placeholder="Enter password">
        <input type="checkbox" id="rememberMe"> <label for="rememberMe">Remember Me</label>
        <button onclick="login()">Login</button>
    </div> -->

    <div id="buttons" style="display: none;">
        <button onclick="search()">Search</button>
        <button onclick="showHistory()">History</button>
        <button onclick="browseOptions('Bollywood')">Bollywood</button>
        <button onclick="browseOptions('Movies')">Movies</button>
        <button onclick="browseOptions('TV Shows')">TV Shows</button>
        <button id="addNewUserButton" onclick="addNewUser()" style="display: none;">Add New User</button>

        <button onclick="logout()">Logout</button>
    </div>

    <h3 id="catTitle" style="display: none;">Categories</h3>
    <div id="moviesCategories" style="display: none;">
        <button>Popular</button>
        <button>Now Playing</button>
        <button>Top Rated</button>
    </div>

    <div id="tvShowsCategories" style="display: none;">
        <button>Popular</button>
        <button>Airing Today</button>
        <button>On TV</button>
        <button>Top Rated</button>
    </div>

    <div id="mainContent"></div>

    <script src="script.js"></script>

    <script>
        let currentUsername = ''; // Variable to store the current logged-in username

        async function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (authenticate(username, password)) {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('buttons').style.display = 'flex';
                currentUsername = username;

                // Show or hide the "Add New User" button based on the logged-in user
                const addNewUserButton = document.getElementById('addNewUserButton');
                addNewUserButton.style.display = (currentUsername === 'admin') ? 'block' : 'none';
            } else {
                alert('Invalid credentials. Please try again.');
            }
        }

        // Function to add a new user
        function addNewUser() {
            const isAdmin = currentUsername === 'admin';

            // Check if the logged-in user is an admin
            if (isAdmin) {
                const username = prompt('Enter new username:');
                const password = prompt('Enter new password:');

                // Display the "Create User" button after entering credentials
                const createUserButton = document.createElement('button');
                createUserButton.textContent = 'Create User';
                createUserButton.onclick = () => createUser(username, password);
                document.getElementById('mainContent').appendChild(createUserButton);
            } else {
                alert('You do not have permission to add new users.');
            }
        }

        // Function to create a new user
        function createUser(username, password) {
            // Implement logic to create a new user with the given username and password
            alert(`User created successfully!\nUsername: ${username}`);
        }

        // Function to authenticate users
        function authenticate(username, password) {
            // Implement your authentication logic here
            return username === 'admin' && password === 'admin';
        }

        // Function to browse options
        function browse() {
            // Implement logic to browse options
            alert('Browsing options...');
        }

        // Function to perform search
        function search() {
            // Implement logic for search functionality
            alert('Performing search...');
        }

        // Function to show user history
        function showHistory() {
            // Implement logic to show user's watch history
            alert('Displaying watch history...');
        }
    </script>
</body>

</html>
